{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Accappi\\\\Desktop\\\\progetti\\\\cinemate\\\\src\\\\contexts\\\\AuthContext.js\",\n  _s = $RefreshSig$();\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userId, setUserId] = useState(-1);\n  const [likedMovies, setLikedMovies] = useState([]);\n  const [viewedMovies, setViewedMovies] = useState([]);\n  const [likedSeries, setLikedSeries] = useState([]);\n  const [viewedSeries, setViewedSeries] = useState([]);\n  const fetchLikedMovies = async () => {\n    if (userId === -1) {\n      //navigate('/signin');\n    } else {\n      try {\n        const response = await axios.post('http://localhost:5000/api/movies/getLikedMovies', {\n          userId: userId\n        });\n        if (response.data.success) {\n          setLikedMovies(response.data.likedMovies);\n        } else {\n          alert('Error fetching likes: ' + response.data.message);\n        }\n      } catch (error) {\n        alert('Error fetching likes: ' + error);\n      }\n    }\n  };\n  const fetchViewedMovies = async () => {\n    if (userId === -1) {\n      //navigate('/signin');\n    } else {\n      try {\n        const response = await axios.post('http://localhost:5000/api/movies/getViewedMovies', {\n          userId: userId\n        });\n        if (response.data.success) {\n          setViewedMovies(response.data.viewedMovies);\n        } else {\n          alert('Error fetching viewed movies: ' + response.data.message);\n        }\n      } catch (error) {\n        alert('Error fetching viewed movies: ' + error);\n      }\n    }\n  };\n  const fetchLikedSeries = async () => {\n    if (userId == -1) {\n      //navigate('/signin');\n    } else {\n      try {\n        const response = await axios.post('http://localhost:5000/api/series/getLikedSeries', {\n          userId: userId\n        });\n        if (response.data.success) {\n          setLikedSeries(response.data.likedSeries);\n        } else {\n          alert('Error fetching likes: ' + response.data.message);\n        }\n      } catch (error) {\n        alert('Error fetching likes: ' + error);\n      }\n    }\n  };\n  const fetchViewedSeries = async () => {\n    if (userId == -1) {\n      //navigate('/signin');\n    } else {\n      try {\n        const response = await axios.post('http://localhost:5000/api/series/getViewedSeries', {\n          userId: userId\n        });\n        if (response.data.success) {\n          setViewedSeries(response.data.viewedSeries);\n        } else {\n          alert('Error fetching viewed series: ' + response.data.message);\n        }\n      } catch (error) {\n        alert('Error fetching viewed series: ' + error);\n      }\n    }\n  };\n  const login = async userId => {\n    setIsLoggedIn(true);\n    setUserId(userId);\n    // Use Promise.all to ensure all data is fetched\n    await Promise.all([fetchLikedMovies(), fetchViewedMovies(), fetchLikedSeries(), fetchViewedSeries()]);\n  };\n  const logout = () => {\n    setIsLoggedIn(false);\n    setUserId(-1);\n    setLikedMovies([]);\n    setViewedMovies([]);\n    setLikedSeries([]);\n    setViewedSeries([]);\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      isLoggedIn,\n      login,\n      logout,\n      userId,\n      likedMovies,\n      setLikedMovies,\n      viewedMovies,\n      setViewedMovies,\n      likedSeries,\n      setLikedSeries,\n      viewedSeries,\n      setViewedSeries\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthProvider, \"VtIb0cSoU1t+Tj8exCCCywC4a1Q=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["AuthProvider","children","_s","isLoggedIn","setIsLoggedIn","useState","userId","setUserId","likedMovies","setLikedMovies","viewedMovies","setViewedMovies","likedSeries","setLikedSeries","viewedSeries","setViewedSeries","fetchLikedMovies","response","axios","post","data","success","alert","message","error","fetchViewedMovies","fetchLikedSeries","fetchViewedSeries","login","Promise","all","logout","_jsxDEV","AuthContext","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Accappi/Desktop/progetti/cinemate/src/contexts/AuthContext.js"],"sourcesContent":["export const AuthProvider = ({ children }) => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [userId, setUserId] = useState(-1);\r\n  const [likedMovies, setLikedMovies] = useState([]);\r\n  const [viewedMovies, setViewedMovies] = useState([]);\r\n  const [likedSeries, setLikedSeries] = useState([]);\r\n  const [viewedSeries, setViewedSeries] = useState([]);\r\n\r\n  const fetchLikedMovies = async () => {\r\n    if (userId === -1) {\r\n      //navigate('/signin');\r\n    } else {\r\n      try {\r\n        const response = await axios.post('http://localhost:5000/api/movies/getLikedMovies', {\r\n          userId: userId\r\n        });\r\n        if (response.data.success) {\r\n          setLikedMovies(response.data.likedMovies);\r\n        } else {\r\n          alert('Error fetching likes: ' + response.data.message);\r\n        }\r\n      } catch (error) {\r\n        alert('Error fetching likes: ' + error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchViewedMovies = async () => {\r\n    if (userId === -1) {\r\n      //navigate('/signin');\r\n    } else {\r\n      try {\r\n        const response = await axios.post('http://localhost:5000/api/movies/getViewedMovies', {\r\n          userId: userId\r\n        });\r\n        if (response.data.success) {\r\n          setViewedMovies(response.data.viewedMovies);\r\n        } else {\r\n          alert('Error fetching viewed movies: ' + response.data.message);\r\n        }\r\n      } catch (error) {\r\n        alert('Error fetching viewed movies: ' + error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchLikedSeries = async () => {\r\n    if (userId == -1) {\r\n      //navigate('/signin');\r\n    } else {\r\n      try {\r\n        const response = await axios.post('http://localhost:5000/api/series/getLikedSeries', {\r\n          userId: userId\r\n        });\r\n        if (response.data.success) {\r\n          setLikedSeries(response.data.likedSeries);\r\n        } else {\r\n          alert('Error fetching likes: ' + response.data.message);\r\n        }\r\n      } catch (error) {\r\n        alert('Error fetching likes: ' + error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchViewedSeries = async () => {\r\n    if (userId == -1) {\r\n      //navigate('/signin');\r\n    } else {\r\n      try {\r\n        const response = await axios.post('http://localhost:5000/api/series/getViewedSeries', {\r\n          userId: userId\r\n        });\r\n        if (response.data.success) {\r\n          setViewedSeries(response.data.viewedSeries);\r\n        } else {\r\n          alert('Error fetching viewed series: ' + response.data.message);\r\n        }\r\n      } catch (error) {\r\n        alert('Error fetching viewed series: ' + error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const login = async (userId) => {\r\n    setIsLoggedIn(true);\r\n    setUserId(userId);\r\n    // Use Promise.all to ensure all data is fetched\r\n    await Promise.all([\r\n      fetchLikedMovies(),\r\n      fetchViewedMovies(),\r\n      fetchLikedSeries(),\r\n      fetchViewedSeries()\r\n    ]);\r\n  };\r\n\r\n  const logout = () => {\r\n    setIsLoggedIn(false);\r\n    setUserId(-1);\r\n    setLikedMovies([]);\r\n    setViewedMovies([]);\r\n    setLikedSeries([]);\r\n    setViewedSeries([]);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{\r\n      isLoggedIn,\r\n      login,\r\n      logout,\r\n      userId,\r\n      likedMovies,\r\n      setLikedMovies,\r\n      viewedMovies,\r\n      setViewedMovies,\r\n      likedSeries,\r\n      setLikedSeries,\r\n      viewedSeries,\r\n      setViewedSeries\r\n    }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}