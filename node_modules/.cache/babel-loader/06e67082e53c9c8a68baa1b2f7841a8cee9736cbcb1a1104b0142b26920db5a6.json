{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Accappi\\\\Desktop\\\\progetti\\\\cinemate\\\\src\\\\pages\\\\UserSearchPage.js\",\n  _s = $RefreshSig$();\n// src/components/UserSearchPage.js\n\nimport React, { useState } from 'react';\nimport { Container, Typography, List, ListItem, ListItemAvatar, ListItemText, Avatar, Divider, Box, CircularProgress } from '@mui/material';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { ThemeProvider } from '@mui/material/styles';\nimport theme from '../theme'; // Import the custom theme\nimport '../index.css'; // Ensure this contains the CSS for search-container and search-input\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserSearchPage() {\n  _s();\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const handleSearch = () => {\n    if (!query) return;\n    setLoading(true);\n    setError('');\n    axios.post('http://localhost:5000/api/recommendation/search', {\n      query\n    }).then(response => {\n      if (response.data.success) {\n        setResults(response.data.users);\n      } else {\n        setError('Failed to fetch search results.');\n      }\n    }).catch(error => {\n      console.error('Error fetching search results:', error);\n      setError('An error occurred while fetching search results.');\n    }).finally(() => {\n      setLoading(false);\n    });\n  };\n  const handleUserClick = userId => {\n    navigate(`/account/${userId}`);\n  };\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'center',\n          width: '100%'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search for users...\",\n            value: query,\n            onChange: e => setQuery(e.target.value),\n            onKeyPress: e => e.key === 'Enter' && handleSearch() // Trigger search on Enter key\n            ,\n            className: \"search-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSearch,\n            className: \"search-button\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              viewBox: \"0 0 24 24\",\n              width: \"24px\",\n              height: \"24px\",\n              fill: \"#fff\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M 10 2 C 5.582 2 2 5.582 2 10 C 2 14.418 5.582 18 10 18 C 11.848 18 13.554 17.374 14.935547 16.341797 L 19.292969 20.707031 C 19.683594 21.097656 20.316406 21.097656 20.707031 20.707031 C 21.097656 20.316406 21.097656 19.683594 20.707031 19.292969 L 16.341797 14.935547 C 17.374 13.554 18 11.848 18 10 C 18 5.582 14.418 2 10 2 z M 10 4 C 13.309 4 16 6.691 16 10 C 16 13.309 13.309 16 10 16 C 6.691 16 4 13.309 4 10 C 4 6.691 6.691 4 10 4 z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'center',\n          margin: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(List, {\n        children: results.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(ListItem, {\n            button: true,\n            onClick: () => handleUserClick(user.userId),\n            children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                src: `http://localhost:5000/uploads/profile_images/${user.profileimguri}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                sx: {\n                  fontWeight: 'bold'\n                },\n                children: user.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 23\n              }, this),\n              secondary: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                sx: {\n                  color: 'rgba(255, 255, 255, 0.7)'\n                },\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 17\n          }, this)]\n        }, user.userId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        sx: {\n          marginTop: 2\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(UserSearchPage, \"YPPGX0cpVTTIKe3qVvEffvoHg6E=\", false, function () {\n  return [useNavigate];\n});\n_c = UserSearchPage;\nexport default UserSearchPage;\nvar _c;\n$RefreshReg$(_c, \"UserSearchPage\");","map":{"version":3,"names":["React","useState","Container","Typography","List","ListItem","ListItemAvatar","ListItemText","Avatar","Divider","Box","CircularProgress","axios","useNavigate","ThemeProvider","theme","jsxDEV","_jsxDEV","UserSearchPage","_s","query","setQuery","results","setResults","loading","setLoading","error","setError","navigate","handleSearch","post","then","response","data","success","users","catch","console","finally","handleUserClick","userId","children","sx","display","justifyContent","width","className","type","placeholder","value","onChange","e","target","onKeyPress","key","fileName","_jsxFileName","lineNumber","columnNumber","onClick","xmlns","viewBox","height","fill","d","margin","map","user","button","src","profileimguri","primary","variant","fontWeight","username","secondary","color","email","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/Accappi/Desktop/progetti/cinemate/src/pages/UserSearchPage.js"],"sourcesContent":["// src/components/UserSearchPage.js\r\n\r\nimport React, { useState } from 'react';\r\nimport { Container, Typography, List, ListItem, ListItemAvatar, ListItemText, Avatar, Divider, Box, CircularProgress } from '@mui/material';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { ThemeProvider } from '@mui/material/styles';\r\nimport theme from '../theme';  // Import the custom theme\r\nimport '../index.css';  // Ensure this contains the CSS for search-container and search-input\r\n\r\nfunction UserSearchPage() {\r\n  const [query, setQuery] = useState('');\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleSearch = () => {\r\n    if (!query) return;\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    axios.post('http://localhost:5000/api/recommendation/search', { query })\r\n      .then(response => {\r\n        if (response.data.success) {\r\n          setResults(response.data.users);\r\n        } else {\r\n          setError('Failed to fetch search results.');\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching search results:', error);\r\n        setError('An error occurred while fetching search results.');\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleUserClick = (userId) => {\r\n    navigate(`/account/${userId}`);\r\n  };\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Container>\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', width: '100%' }}>\r\n          <div className=\"search-container\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search for users...\"\r\n              value={query}\r\n              onChange={(e) => setQuery(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && handleSearch()} // Trigger search on Enter key\r\n              className=\"search-input\"\r\n            />\r\n            <button onClick={handleSearch} className=\"search-button\">\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 24 24\"\r\n                width=\"24px\"\r\n                height=\"24px\"\r\n                fill=\"#fff\"\r\n              >\r\n                <path d=\"M 10 2 C 5.582 2 2 5.582 2 10 C 2 14.418 5.582 18 10 18 C 11.848 18 13.554 17.374 14.935547 16.341797 L 19.292969 20.707031 C 19.683594 21.097656 20.316406 21.097656 20.707031 20.707031 C 21.097656 20.316406 21.097656 19.683594 20.707031 19.292969 L 16.341797 14.935547 C 17.374 13.554 18 11.848 18 10 C 18 5.582 14.418 2 10 2 z M 10 4 C 13.309 4 16 6.691 16 10 C 16 13.309 13.309 16 10 16 C 6.691 16 4 13.309 4 10 C 4 6.691 6.691 4 10 4 z\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </Box>\r\n        {loading ? (\r\n          <Box sx={{ display: 'flex', justifyContent: 'center', margin: '20px' }}>\r\n            <CircularProgress />\r\n          </Box>\r\n        ) : (\r\n          <List>\r\n            {results.map(user => (\r\n              <div key={user.userId}>\r\n                <ListItem button onClick={() => handleUserClick(user.userId)}>\r\n                  <ListItemAvatar>\r\n                    <Avatar src={`http://localhost:5000/uploads/profile_images/${user.profileimguri}`} />\r\n                  </ListItemAvatar>\r\n                  <ListItemText\r\n                    primary={\r\n                      <Typography variant=\"h6\" sx={{ fontWeight: 'bold' }}>\r\n                        {user.username}\r\n                      </Typography>\r\n                    }\r\n                    secondary={\r\n                      <Typography variant=\"body2\" sx={{ color: 'rgba(255, 255, 255, 0.7)' }}>\r\n                        {user.email}\r\n                      </Typography>\r\n                    }\r\n                  />\r\n                </ListItem>\r\n                <Divider />\r\n              </div>\r\n            ))}\r\n          </List>\r\n        )}\r\n        {error && <Typography color=\"error\" sx={{ marginTop: 2 }}>{error}</Typography>}\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default UserSearchPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}