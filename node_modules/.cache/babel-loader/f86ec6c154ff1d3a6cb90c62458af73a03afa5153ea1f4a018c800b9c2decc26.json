{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Accappi\\\\Desktop\\\\progetti\\\\cinemate\\\\src\\\\contexts\\\\AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\nexport const AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userId, setUserId] = useState(-1);\n  const [username, setUsername] = useState(\"\");\n  const [likedMovies, setLikedMovies] = useState([]);\n  const [viewedMovies, setViewedMovies] = useState([]);\n  const [likedSeries, setLikedSeries] = useState([]);\n  const [viewedSeries, setViewedSeries] = useState([]);\n  const fetchLikedMovies = async () => {\n    if (userId === -1) {\n      //navigate('/signin');\n    } else {\n      try {\n        const response = await axios.post('http://localhost:5000/api/movies/getLikedMovies', {\n          userId: userId\n        });\n        if (response.data.success) {\n          setLikedMovies(response.data.likedMovies);\n        } else {\n          alert('Error fetching likes: ' + response.data.message);\n        }\n      } catch (error) {\n        alert('Error fetching likes: ' + error);\n      }\n    }\n  };\n  const fetchViewedMovies = async () => {\n    if (userId === -1) {\n      //navigate('/signin');\n    } else {\n      try {\n        const response = await axios.post('http://localhost:5000/api/movies/getViewedMovies', {\n          userId: userId\n        });\n        if (response.data.success) {\n          setViewedMovies(response.data.viewedMovies);\n        } else {\n          alert('Error fetching viewed movies: ' + response.data.message);\n        }\n      } catch (error) {\n        alert('Error fetching viewed movies: ' + error);\n      }\n    }\n  };\n  const fetchLikedSeries = async () => {\n    if (userId == -1) {\n      //navigate('/signin');\n    } else {\n      try {\n        const response = await axios.post('http://localhost:5000/api/series/getLikedSeries', {\n          userId: userId\n        });\n        if (response.data.success) {\n          setLikedSeries(response.data.likedSeries);\n        } else {\n          alert('Error fetching likes: ' + response.data.message);\n        }\n      } catch (error) {\n        alert('Error fetching likes: ' + error);\n      }\n    }\n  };\n  const fetchViewedSeries = async () => {\n    if (userId == -1) {\n      //navigate('/signin');\n    } else {\n      try {\n        const response = await axios.post('http://localhost:5000/api/series/getViewedSeries', {\n          userId: userId\n        });\n        if (response.data.success) {\n          setViewedSeries(response.data.viewedSeries);\n        } else {\n          alert('Error fetching viewed series: ' + response.data.message);\n        }\n      } catch (error) {\n        alert('Error fetching viewed series: ' + error);\n      }\n    }\n  };\n  const login = (userId, username) => {\n    setIsLoggedIn(true);\n    setUserId(userId);\n    setUsername(username);\n    fetchLikedMovies();\n    fetchViewedMovies();\n    fetchLikedSeries();\n    fetchViewedSeries();\n  };\n  const logout = () => {\n    setIsLoggedIn(false);\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      isLoggedIn,\n      login,\n      logout,\n      userId,\n      username,\n      likedMovies,\n      setLikedMovies,\n      viewedMovies,\n      setViewedMovies,\n      likedSeries,\n      setLikedSeries,\n      viewedSeries,\n      setViewedSeries\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthProvider, \"13r1to2oTCGYYLfsXQvoB18GDD0=\");\n_c = AuthProvider;\nexport const useAuth = () => {\n  _s2();\n  return useContext(AuthContext);\n};\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","axios","jsxDEV","_jsxDEV","AuthContext","AuthProvider","children","_s","isLoggedIn","setIsLoggedIn","userId","setUserId","username","setUsername","likedMovies","setLikedMovies","viewedMovies","setViewedMovies","likedSeries","setLikedSeries","viewedSeries","setViewedSeries","fetchLikedMovies","response","post","data","success","alert","message","error","fetchViewedMovies","fetchLikedSeries","fetchViewedSeries","login","logout","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","$RefreshReg$"],"sources":["C:/Users/Accappi/Desktop/progetti/cinemate/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useState, useContext } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [userId, setUserId] = useState(-1);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [likedMovies, setLikedMovies] = useState([]);\r\n  const [viewedMovies, setViewedMovies] = useState([]);\r\n  const [likedSeries, setLikedSeries] = useState([]);\r\n  const [viewedSeries, setViewedSeries] = useState([]);\r\n\r\n  const fetchLikedMovies = async () => {\r\n    if (userId === -1) {\r\n      //navigate('/signin');\r\n    } else {\r\n      try {\r\n        const response = await axios.post('http://localhost:5000/api/movies/getLikedMovies', {\r\n          userId: userId\r\n        });\r\n        if (response.data.success) {\r\n          setLikedMovies(response.data.likedMovies);\r\n        } else {\r\n          alert('Error fetching likes: ' + response.data.message);\r\n        }\r\n      } catch (error) {\r\n        alert('Error fetching likes: ' + error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchViewedMovies = async () => {\r\n    if (userId === -1) {\r\n      //navigate('/signin');\r\n    } else {\r\n      try {\r\n        const response = await axios.post('http://localhost:5000/api/movies/getViewedMovies', {\r\n          userId: userId\r\n        });\r\n        if (response.data.success) {\r\n          setViewedMovies(response.data.viewedMovies);\r\n        } else {\r\n          alert('Error fetching viewed movies: ' + response.data.message);\r\n        }\r\n      } catch (error) {\r\n        alert('Error fetching viewed movies: ' + error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchLikedSeries = async () => {\r\n    if(userId == -1) {\r\n      //navigate('/signin');\r\n    }\r\n    else {\r\n      try {\r\n        const response = await axios.post('http://localhost:5000/api/series/getLikedSeries', {\r\n          userId: userId\r\n        });\r\n        if (response.data.success) {\r\n          setLikedSeries(response.data.likedSeries);\r\n        } else {\r\n          alert('Error fetching likes: ' + response.data.message);\r\n        }\r\n      } catch (error) {\r\n        alert('Error fetching likes: ' + error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchViewedSeries = async () => {\r\n    if(userId == -1) {\r\n      //navigate('/signin');\r\n    }\r\n    else {\r\n      try {\r\n        const response = await axios.post('http://localhost:5000/api/series/getViewedSeries', {\r\n          userId: userId\r\n        });\r\n        if (response.data.success) {\r\n          setViewedSeries(response.data.viewedSeries);\r\n        } else {\r\n          alert('Error fetching viewed series: ' + response.data.message);\r\n        }\r\n      } catch (error) {\r\n        alert('Error fetching viewed series: ' + error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const login = (userId, username) => {\r\n    setIsLoggedIn(true);\r\n    setUserId(userId);\r\n    setUsername(username);\r\n    fetchLikedMovies();\r\n    fetchViewedMovies();\r\n    fetchLikedSeries();\r\n    fetchViewedSeries();\r\n  };\r\n\r\n  const logout = () => {\r\n    setIsLoggedIn(false);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ \r\n        isLoggedIn, \r\n        login, \r\n        logout, \r\n        userId, \r\n        username, \r\n        likedMovies, \r\n        setLikedMovies, \r\n        viewedMovies, \r\n        setViewedMovies,\r\n        likedSeries, \r\n        setLikedSeries, \r\n        viewedSeries, \r\n        setViewedSeries\r\n      }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}