{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Accappi\\\\Desktop\\\\progetti\\\\cinemate\\\\src\\\\pages\\\\UserSearchPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Container, TextField, Button, Typography, List, ListItem, ListItemAvatar, ListItemText, Avatar, Divider } from '@mui/material';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserSearchPage() {\n  _s();\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const handleSearch = () => {\n    setLoading(true);\n    setError('');\n\n    // Send the search query to the server\n    axios.post('http://localhost:5000/api/recommendation/search', {\n      query\n    }).then(response => {\n      if (response.data.success) {\n        setResults(response.data.users);\n      } else {\n        setError('Failed to fetch search results.');\n      }\n    }).catch(error => {\n      console.error('Error fetching search results:', error);\n      setError('An error occurred while fetching search results.');\n    }).finally(() => {\n      setLoading(false);\n    });\n  };\n  const handleUserClick = userId => {\n    // Navigate to the user's account page\n    navigate(`/account/${userId}`);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"Search Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Search Users\",\n      variant: \"outlined\",\n      fullWidth: true,\n      value: query,\n      onChange: e => setQuery(e.target.value),\n      sx: {\n        marginBottom: 2\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: handleSearch,\n      disabled: loading,\n      children: loading ? 'Searching...' : 'Search'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n      color: \"error\",\n      sx: {\n        marginTop: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      children: results.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(ListItem, {\n          button: true,\n          onClick: () => handleUserClick(user.userId),\n          children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n            children: /*#__PURE__*/_jsxDEV(Avatar, {\n              src: `http://localhost:5000/uploads/profile_images/${user.profileimguri}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: user.username,\n            secondary: user.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)]\n      }, user.userId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(UserSearchPage, \"YPPGX0cpVTTIKe3qVvEffvoHg6E=\", false, function () {\n  return [useNavigate];\n});\n_c = UserSearchPage;\nexport default UserSearchPage;\nvar _c;\n$RefreshReg$(_c, \"UserSearchPage\");","map":{"version":3,"names":["React","useState","Container","TextField","Button","Typography","List","ListItem","ListItemAvatar","ListItemText","Avatar","Divider","axios","useNavigate","jsxDEV","_jsxDEV","UserSearchPage","_s","query","setQuery","results","setResults","loading","setLoading","error","setError","navigate","handleSearch","post","then","response","data","success","users","catch","console","finally","handleUserClick","userId","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","label","fullWidth","value","onChange","e","target","sx","marginBottom","color","onClick","disabled","marginTop","map","user","button","src","profileimguri","primary","username","secondary","email","_c","$RefreshReg$"],"sources":["C:/Users/Accappi/Desktop/progetti/cinemate/src/pages/UserSearchPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Container, TextField, Button, Typography, List, ListItem, ListItemAvatar, ListItemText, Avatar, Divider } from '@mui/material';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction UserSearchPage() {\r\n  const [query, setQuery] = useState('');\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleSearch = () => {\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    // Send the search query to the server\r\n    axios.post('http://localhost:5000/api/recommendation/search', { query })\r\n      .then(response => {\r\n        if (response.data.success) {\r\n          setResults(response.data.users);\r\n        } else {\r\n          setError('Failed to fetch search results.');\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching search results:', error);\r\n        setError('An error occurred while fetching search results.');\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleUserClick = (userId) => {\r\n    // Navigate to the user's account page\r\n    navigate(`/account/${userId}`);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Search Users\r\n      </Typography>\r\n      <TextField\r\n        label=\"Search Users\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        value={query}\r\n        onChange={(e) => setQuery(e.target.value)}\r\n        sx={{ marginBottom: 2 }}\r\n      />\r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSearch} disabled={loading}>\r\n        {loading ? 'Searching...' : 'Search'}\r\n      </Button>\r\n      {error && <Typography color=\"error\" sx={{ marginTop: 2 }}>{error}</Typography>}\r\n      <List>\r\n        {results.map(user => (\r\n          <div key={user.userId}>\r\n            <ListItem button onClick={() => handleUserClick(user.userId)}>\r\n              <ListItemAvatar>\r\n                <Avatar src={`http://localhost:5000/uploads/profile_images/${user.profileimguri}`} />\r\n              </ListItemAvatar>\r\n              <ListItemText\r\n                primary={user.username}\r\n                secondary={user.email}\r\n              />\r\n            </ListItem>\r\n            <Divider />\r\n          </div>\r\n        ))}\r\n      </List>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default UserSearchPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}